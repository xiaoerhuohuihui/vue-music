webpackJsonp([2],{"8FEE":function(t,i){},H6oc:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("Dd8w"),n=e.n(s),o=e("Zrlr"),r=e.n(o),a=function t(i,e,s){r()(this,t),this.id=i,this.mid=e,this.name=s,this.img="https://y.gtimg.cn/music/photo_new/T001R150x150M000"+e+".jpg?max_age=2592000"},c=e("P9l9"),h=e("NYxO"),l={data:function(){return{singerList:[],hotList:[],sortList:[],fastList:[],nowIndex:0,scroll:document.querySelector(".music-body").scrollTop}},methods:{getSingerList:function(t){var i={hot:{title:"hot",items:[]}};t.map(function(t,e){e<10&&i.hot.items.push(new a(t.Fsinger_id,t.Fsinger_mid,t.Fsinger_name));var s=t.Findex;i[s]||(i[s]={title:s,items:[]}),i[s].items.push(new a(t.Fsinger_id,t.Fsinger_mid,t.Fsinger_name))});var e=[],s=[],n=[];for(var o in i)i.hasOwnProperty(o)&&("hot"==o?e.push(i[o]):o.match(/[a-zA-Z]/)?s.push(i[o]):n.push(i[o]));return s.sort(function(t,i){return t.title.charCodeAt(0)-i.title.charCodeAt(0)}),e.concat(s,n)},getStartLi:function(t,i){this.height=0;for(var e=1;e<=t;e++)this.height+=document.querySelectorAll(".singer-div")[e-1].scrollHeight;this.nowIndex=t,document.querySelector(".music-body").scrollTop=this.height},getStartFastHeight:function(t){this.fastLiHeight=document.querySelector(".fast-list-li").clientHeight,this.fastHeight=this.$refs.fastList.clientHeight,this.fastTop=this.$refs.fastList.offsetTop-this.fastHeight/2},getMoveFastHeight:function(t){this.percent=Math.max(t.touches[0].pageY-this.fastTop,0)&&Math.min(t.touches[0].pageY-this.fastTop,this.fastHeight),this.nowIndex=Math.floor(this.percent/this.fastLiHeight),this.height=0;for(var i=1;i<=this.nowIndex;i++)this.height+=document.querySelectorAll(".singer-div")[i-1].scrollHeight;document.querySelector(".music-body").scrollTop=this.height},getTitle:function(t){return"hot"==t?"热门":t.match(/^a-zA-Z/)?"#":t},getSingerId:function(t){this.$router.push({path:"/singer/"+t})},getNowIndex:function(t){for(var i=0,e=0;i<t;)i+=document.querySelectorAll(".singer-div")[e].scrollHeight,e++;this.nowIndex=e}},computed:n()({},Object(h.c)({getScrollTop:"getScrollTop"})),created:function(){var t=this;Object(c.e)().then(function(i){t.singerList=t.getSingerList(i.data.list),t.singerList.map(function(i){"hot"==i.title?t.fastList.push("热"):t.fastList.push(i.title)})}).catch(function(t){console.log(t)})},watch:{getScrollTop:function(t){"/singer"==this.$route.path&&this.getNowIndex(t)}}},u={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"wrap"},[e("div",{ref:"heightdiv",staticClass:"heightdiv"},t._l(t.singerList,function(i,s){return e("div",{key:s,staticClass:"singer-div"},[e("p",{staticClass:"title"},[t._v(t._s(t.getTitle(i.title)))]),t._v(" "),e("ul",{staticClass:"singer-ul"},t._l(i.items,function(i,s){return e("li",{key:s,staticClass:"singer-li",class:{toleft:s%2==1,toright:s%2==0},on:{click:function(e){t.getSingerId(i.id)}}},[e("div",{staticClass:"img-div"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:i.img,expression:"item.img"}],staticClass:"singer-img",attrs:{alt:""}})]),t._v(" "),e("p",{staticClass:"singer-name"},[t._v(t._s(i.name))])])}))])})),t._v(" "),e("ul",{ref:"fastList",staticClass:"fast-list",on:{touchstart:t.getStartFastHeight,touchmove:t.getMoveFastHeight}},t._l(t.fastList,function(i,s){return e("li",{key:s,staticClass:"fast-list-li",class:{active:t.nowIndex===s},on:{touchstart:function(i){t.getStartLi(s,i)}}},[e("span",[t._v(t._s(i))])])})),t._v(" "),e("router-view")],1)},staticRenderFns:[]};var g=e("VU/8")(l,u,!1,function(t){e("8FEE")},"data-v-d11fb4be",null);i.default=g.exports},Zrlr:function(t,i,e){"use strict";i.__esModule=!0,i.default=function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}}});
//# sourceMappingURL=2.f5dfe047cef1bba2e3bd.js.map